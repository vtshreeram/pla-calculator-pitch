<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes" />
        <title>Patient Lens AI - Discharge Impact Analyzer</title>
        <link rel="stylesheet" href="css/style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
    </head>

    <body>
        <div class="app-container">
            <header class="app-header">
                <div class="logo">üè• Patient Lens AI</div>
                <h1>Discharge Impact Analyzer</h1>
                <!-- Progress Dots -->
                <div class="progress-container">
                    <div class="dot active" data-step="0"></div>
                    <div class="dot" data-step="1"></div>
                    <div class="dot" data-step="2"></div>
                </div>
            </header>

            <div class="main-layout">
                <!-- LEFT PANEL: Presentation Deck -->
                <main class="story-panel">
                    <div class="slider-wrapper">
                        <!-- SLIDE 1: INPUTS -->
                        <section class="slide active-slide" id="slide-0">
                            <h2>1. Hospital Snapshot</h2>
                            <p class="section-desc">
                                Enter your current metrics to establish a
                                baseline.
                            </p>

                            <div class="input-group">
                                <label>Hospital Name</label>
                                <input
                                    type="text"
                                    id="hospitalName"
                                    value="Apollo Specialty Hospital"
                                />
                            </div>

                            <div class="input-grid">
                                <div class="input-group">
                                    <label>Number of Beds</label>
                                    <input
                                        type="number"
                                        id="numBeds"
                                        value="200"
                                        min="1"
                                    />
                                </div>

                                <div class="input-group">
                                    <label>Average Occupancy (%)</label>
                                    <input
                                        type="number"
                                        id="occupancyPct"
                                        value="75"
                                        min="0"
                                        max="100"
                                    />
                                    <span class="hint">Value between 0‚Äì100</span>
                                </div>

                                <div class="input-group">
                                    <label>Average Discharges</label>
                                    <div class="toggle-group">
                                        <button type="button" class="toggle-btn active" id="togglePerDay" onclick="setDischargeMode('day')">Per Day</button>
                                        <button type="button" class="toggle-btn" id="togglePerMonth" onclick="setDischargeMode('month')">Per Month</button>
                                    </div>
                                    <input
                                        type="number"
                                        id="dischargeVolumeInput"
                                        value="5"
                                        min="1"
                                    />
                                    <span class="hint">Enter per day or per month based on your hospital data.</span>
                                </div>

                                <div class="input-group">
                                    <label>Average Discharge Time</label>
                                    <select id="dischargeTime">
                                        <option value="1">1 hour</option>
                                        <option value="2">2 hours</option>
                                        <option value="3" selected>3 hours</option>
                                        <option value="4">4 hours</option>
                                        <option value="5">5 hours</option>
                                        <option value="6">6+ hours</option>
                                    </select>
                                    <span class="hint">Time from doctor clearance to patient exit.</span>
                                </div>

                                <div class="input-group">
                                    <label>Medical Transcribers</label>
                                    <input
                                        type="number"
                                        id="numMTs"
                                        value="3"
                                        min="1"
                                    />
                                    <span class="hint">Staff handling summaries</span>
                                </div>

                                <div class="input-group">
                                    <label>Avg Staff Cost/Mo</label>
                                    <input
                                        type="number"
                                        id="staffCostInput"
                                        value="30000"
                                        step="1000"
                                    />
                                </div>
                            </div>

                            <div class="slide-footer">
                                <button
                                    class="btn-primary-lg"
                                    onclick="goToSlide(1)"
                                >
                                    Analyze Impact ‚ûù
                                </button>
                            </div>
                        </section>

                        <!-- SLIDE 2: COST BREAKDOWN -->
                        <section class="slide" id="slide-1">
                            <h2>2. The Hidden Cost of Discharge Delays</h2>
                            <p class="section-desc">
                                Based on your hospital's current discharge workflow.
                            </p>

                            <div class="cards-grid cost-cards">
                                <div class="info-card cost-card">
                                    <div class="card-icon">üë®‚Äç‚öïÔ∏è</div>
                                    <h3>Doctor Time per Discharge</h3>
                                    <div class="big-value cost-value" id="dispDoctorTimePerDischarge">
                                        20 minutes per discharge
                                    </div>
                                    <p class="cost-subline">
                                        <span id="dispDoctorHoursMonth">50.0</span> hours/month
                                    </p>
                                    <p class="cost-subline">
                                        <span id="dispDoctorCostMonth">‚Çπ1,00,000</span>/month equivalent cost
                                    </p>
                                </div>

                                <div class="info-card cost-card">
                                    <div class="card-icon">üìù</div>
                                    <h3>Manual Documentation Effort</h3>
                                    <div class="big-value cost-value" id="dispMtHoursMonth">
                                        315.0 hours/month
                                    </div>
                                    <p class="cost-subline">
                                        <span id="dispMtCostMonth">‚Çπ59,063</span>/month documentation cost
                                    </p>

                                </div>

                                <div class="info-card cost-card">
                                    <div class="card-icon">‚è≥</div>
                                    <h3>Patient Waiting Time</h3>
                                    <div class="big-value cost-value" id="dispPatientWaitPerDischarge">
                                        3 hours per discharge
                                    </div>
                                    <p class="cost-subline">
                                        Equals <span id="dispPatientWaitTotal">450</span> total waiting hours per month.
                                    </p>
                                    <p class="cost-subline" style="font-size:0.7rem; font-style:italic; opacity:0.7; margin-top:0.25rem;">
                                        Based on your monthly discharge volume.
                                    </p>
                                </div>
                            </div>

                            <div class="slide-footer">
                                <button
                                    class="btn-secondary"
                                    onclick="goToSlide(0)"
                                >
                                    Back
                                </button>
                                <button
                                    class="btn-primary-lg"
                                    onclick="goToSlide(2)"
                                >
                                    Show the Transformation ‚Üí
                                </button>
                            </div>
                        </section>

                        <!-- SLIDE 3: TRANSFORMATION -->
                        <section class="slide" id="slide-2">
                            <h2>3. With Patient Lens AI</h2>
                            <p class="section-desc">
                                Discharge summaries generated in under 10 minutes.
                            </p>

                            <div class="comparison-table">
                                <div class="comparison-header">
                                    <div class="col-metric">Metric</div>
                                    <div class="col-current">Current Process</div>
                                    <div class="col-pla">With PLA</div>
                                </div>

                                <div class="comparison-row">
                                    <div class="col-metric">Discharge Processing Time</div>
                                    <div class="col-current" id="tblCurrentDischargeTime">3 hours</div>
                                    <div class="col-pla pla-value">10 minutes</div>
                                </div>

                                <div class="comparison-row">
                                    <div class="col-metric">Doctor Time per Discharge</div>
                                    <div class="col-current" id="tblCurrentDoctorTime">20 minutes</div>
                                    <div class="col-pla pla-value">5 minutes</div>
                                </div>

                                <div class="comparison-row">
                                    <div class="col-metric">Monthly Discharge Effort</div>
                                    <div class="col-current" id="tblCurrentEffort">513 hours/month</div>
                                    <div class="col-pla pla-value" id="tblPlaEffort">77 hours/month</div>
                                </div>

                                <div class="comparison-row">
                                    <div class="col-metric">Documentation Cost</div>
                                    <div class="col-current" id="tblCurrentDocCost">‚Çπ84,375/month</div>
                                    <div class="col-pla pla-value" id="tblPlaDocCost">‚Çπ8,438/month</div>
                                </div>
                            </div>

                            <div class="slide-footer">
                                <button
                                    class="btn-secondary"
                                    onclick="goToSlide(1)"
                                >
                                    Back
                                </button>
                            </div>
                        </section>
                    </div>
                </main>

                <!-- RIGHT PANEL: Sticky Dashboard -->
                <aside class="dashboard-panel">
                    <div class="sticky-wrapper" id="dashboardWrapper">
                        <h3 id="dashPanelTitle">Current Discharge Reality</h3>

                        <!-- Screen 1: Time-Based Impact Cards -->
                        <div class="time-impact-cards" id="timeImpactCards">
                            <div class="time-card">
                                <div class="time-card-icon">üè•</div>
                                <div class="time-card-label">Total Staff Effort per Discharge</div>
                                <div class="time-card-value" id="dashHospitalEffort">2.1 hours</div>
                                <div class="time-card-desc">Time spent across documentation, billing, and coordination.</div>
                            </div>

                            <div class="time-card">
                                <div class="time-card-icon">üë®‚Äç‚öïÔ∏è</div>
                                <div class="time-card-label">Doctor Time per Discharge</div>
                                <div class="time-card-value" id="dashDoctorTime">20 minutes</div>
                                <div class="time-card-desc">Time spent on summary review and approvals.</div>
                            </div>

                            <div class="time-card">
                                <div class="time-card-icon">‚è≥</div>
                                <div class="time-card-label">Patient Waiting After Clearance</div>
                                <div class="time-card-value" id="dashPatientWait">3 hours</div>
                                <div class="time-card-desc">Time from doctor clearance to final discharge.</div>
                            </div>
                        </div>

                        <!-- Screen 2: Monthly Impact Summary (hidden on other screens) -->
                        <div class="cost-summary-panel" id="costSummaryPanel" style="display: none;">
                            <div class="summary-metric">
                                <div class="summary-metric-icon">‚è±Ô∏è</div>
                                <div class="summary-metric-label">Total Discharge Effort</div>
                                <div class="summary-metric-value" id="dashTotalEffortHours">365.0 hours/month</div>
                                <div class="summary-metric-desc">spent on discharges</div>
                            </div>

                            <div class="summary-metric highlight">
                                <div class="summary-metric-icon">üí∞</div>
                                <div class="summary-metric-label">Total Monthly Discharge Cost</div>
                                <div class="summary-metric-value large" id="dashTotalMonthlyCost">‚Çπ1.59 L</div>
                                <div class="summary-metric-desc">total impact</div>
                            </div>

                            <div class="summary-metric">
                                <div class="summary-metric-icon">üìä</div>
                                <div class="summary-metric-label">Average Cost per Discharge</div>
                                <div class="summary-metric-value" id="dashCostPerDischarge">‚Çπ1,060</div>
                                <div class="summary-metric-desc">per discharge</div>
                            </div>
                        </div>

                        <!-- Screen 3: Monthly Financial Outcome (hidden on other screens) -->
                        <div class="financial-outcome-panel" id="financialOutcomePanel" style="display: none;">
                            <div class="summary-metric">
                                <div class="summary-metric-icon">üìâ</div>
                                <div class="summary-metric-label">Current Monthly Loss</div>
                                <div class="summary-metric-value" id="dashCurrentLoss">‚Çπ1.59 L</div>
                                <div class="summary-metric-desc">total discharge cost/month</div>
                            </div>

                            <div class="summary-metric highlight">
                                <div class="summary-metric-icon">‚úÖ</div>
                                <div class="summary-metric-label">Monthly Savings with PLA</div>
                                <div class="summary-metric-value large" id="dashMonthlySavings">‚Çπ1.44 L</div>
                                <div class="summary-metric-desc">saved per month</div>
                            </div>

                            <div class="summary-metric">
                                <div class="summary-metric-icon">üí≥</div>
                                <div class="summary-metric-label">PLA Cost per Discharge</div>
                                <div class="summary-metric-value" id="dashPlaCostPerDischarge">‚Çπ100</div>
                                <div class="summary-metric-desc">Pay only per generated discharge summary.</div>
                            </div>

                        </div>

                        <div class="dashboard-footer">
                            <p id="dashFooterText">Based on operational studies across mid-size hospitals.</p>
                        </div>
                    </div>
                </aside>
            </div>
            <!-- End main-layout -->
        </div>
        <!-- End app-container -->

        <script>
            // Unregister any existing service workers
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        registration.unregister();
                    }
                });
            }
        </script>
        <script src="js/script.js"></script>
    </body>
</html>
